<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>浪LIVE直播學院FAQ</title>
    
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({ startOnLoad: true, theme: 'neutral' });</script>

    <style>
        /* 登出按鈕樣式 */
#logout-btn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    padding: 10px 18px;
    background-color: #666;
    color: white;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    font-size: 14px;
    z-index: 100; /* 確保在最上層 */
    opacity: 0.8;
    transition: opacity 0.3s;
}
#logout-btn:hover {
    opacity: 1;
    background-color: #f3357b; /* 懸停時變色 */
}
        :root {
            --primary-color: #f3357b; 
            --secondary-color: #5d34af;
            --bg-color: #f8f9fa;
        }

        body {
            font-family: "PingFang TC", "Microsoft JhengHei", sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 0;
            color: #333;
        }

        .header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 50px 20px;
            text-align: center;
        }

        .container {
            max-width: 900px;
            margin: -30px auto 50px auto;
            padding: 0 15px;
        }

        .search-bar {
            width: 100%;
            padding: 15px 25px;
            font-size: 18px;
            border: none;
            border-radius: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            outline: none;
            margin-bottom: 30px;
            box-sizing: border-box;
        }

        .category-title {
            margin: 40px 0 15px;
            padding-left: 10px;
            border-left: 5px solid var(--primary-color);
            color: var(--secondary-color);
            font-size: 1.5rem;
        }

        .faq-item {
            background: white;
            margin-bottom: 12px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
            overflow: hidden;
        }

        .faq-question {
            width: 100%;
            padding: 22px;
            background: none;
            border: none;
            text-align: left;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #2c3e50;
        }

        .faq-question:hover { background: #fffcfd; }

        .faq-question::after {
            content: '+';
            font-size: 1.5rem;
            color: var(--primary-color);
            transition: 0.3s;
        }

        .faq-question.active::after { transform: rotate(45deg); }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-out;
            background: #fff;
        }

        .answer-inner {
            padding: 0 25px 25px;
            border-top: 1px solid #f1f1f1;
            white-space: pre-wrap; 
            line-height: 1.8;
            color: #444;
        }

        /* 粗體重點樣式 */
        .highlight-title {
            color: #000;
            font-weight: 800;
            display: inline-block;
            margin-top: 10px;
        }

        .media-container {
            margin-top: 20px;
            padding: 15px;
            background: #fafafa;
            border: 1px dashed #ddd;
            border-radius: 8px;
            text-align: center;
        }

        img { max-width: 100%; border-radius: 5px; margin-top: 10px; }

        .video-box {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            margin-top: 10px;
        }

        .video-box iframe {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
        }
    </style>
</head>
<body>
<button id="logout-btn" onclick="logout()">登出系統</button>
<div class="header">
    <h1>浪LIVE直播學院FAQ</h1>
    <p>經常被提出的問題大彙整！</p>
</div>

<div class="container">
    <input type="text" id="searchInput" class="search-bar" placeholder="搜尋問題或關鍵字..." onkeyup="filterFAQ()">

    <div id="faqList">
        
        <h2 class="category-title">1. 觀眾互動與新人留存</h2>
        
        <div class="faq-item">
            <button class="faq-question">如何留住路人/新客/大戶？</button>
            <div class="faq-answer">
                <div class="answer-inner"><span class="highlight-title">吸引目光</span>： 30秒-1分鐘內，創造讓用戶覺得「妳不一樣」的特色，例如用點歌單玩遊戲、才藝、口號、主動帶到話題等等。
<span class="highlight-title">主動互動</span>： 不論大小用戶，都要主動打招呼，持續喊人，即使對方不吭聲，也要喊到他願意留言。
<span class="highlight-title">留住大戶</span>： 做自己，多介紹自己、多講有趣的事情。多用簡答題/是非題創造互動機會。可私訊關心幾天沒來的大戶，甚至可為了他，在可配合的時間開播。
<span class="highlight-title">增加流量/留客</span>： 透過發紅包、小時榜，設定「有追蹤才能搶紅包」來增加追蹤。可試冷門時段一天開兩場，建立感情。
<span class="highlight-title">面對白嫖</span>： 不能強求，只能持續釋出善意。現在白嫖，不代表以後不會。對長期白嫖的小用戶，最低要求他們加會員/丟票/掛馬甲符號。可優先唱有送禮用戶的歌，白嫖的歌放著或只播不唱。™

                    <div class="media-container">
                        <p><strong>【互動流程示意圖】</strong></p>
                        <pre class="mermaid">
                            graph LR
                            A[路人進入] --> B{30秒吸引力?}
                            B -- 有 --> C[主動互動/喊名]
                            C --> E[引導追蹤]
                            B -- 無 --> D[路人離開]
                        </pre>
                    </div>
                </div>
            </div>
        </div>

        <div class="faq-item">
            <button class="faq-question">直播間冷場/無話題怎麼辦？</button>
            <div class="faq-answer">
                <div class="answer-inner"><span class="highlight-title">應對策略</span>：準備話題庫或使用平台互動工具。讓觀眾感覺妳在唱歌時「可以被打擾」，創造切入點。
                    
                    <div class="media-container">
                        <p><strong>【推薦教學影音】</strong></p>
                        <div class="video-box">
                            <iframe src="https://www.youtube.com/watch?v=UqXCc52LmEA" frameborder="0" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="faq-item">
            <button class="faq-question">新舊用戶/多話題如何管理？</button>
            <div class="faq-answer">
                <div class="answer-inner"><span class="highlight-title">多數人經營</span>： 當核心用戶有歸屬感後，將時間花在經營其他人，持續創造新用戶。將核心用戶視為可以吸收新用戶的群體。
<span class="highlight-title">話題引導</span>： 同時處理多話題時，試著把適合加入的人引導進來。挑選最能將大家拉在一起的話題。可培養「打手」，協助妳營造共同話題、氣氛。
<span class="highlight-title">區分用戶</span>： 直播間同時需要「純支持（不說話）」和「愛講話（活絡氣氛）」的用戶，要能夠區分。</div>
            </div>
        </div>

        <h2 class="category-title">2. 心態調適與經營目標</h2>

        <div class="faq-item">
            <button class="faq-question">如何在「做自己」與「迎合觀眾」間平衡？</button>
            <div class="faq-answer">
                <div class="answer-inner"><span class="highlight-title">核心觀念</span>： 觀眾買單的是「妳的人設」、陪伴與互動，不全是「歌藝」或音樂成就。主播提供的是「情緒價值」。
<span class="highlight-title">人設建立</span>： 可偶爾提到以前的性格或委屈，用以前的故事引導，慢慢改變氣氛。直播主工作有一點演戲成分。</div>
            </div>
        </div>

        <div class="faq-item">
            <button class="faq-question">如何找到持續直播的動力與熱情？</button>
            <div class="faq-answer">
                <div class="answer-inner"><span class="highlight-title">找到理由</span>： 思考「不給妳錢都願意做的原因」，找到「自己不計代價繼續直播」的理由，例如：因為有觀眾在等妳。
<span class="highlight-title">轉化為契約</span>： 將「觀眾等待」轉化為「具體的契約」（例如固定節目），從承諾中獲取持續動力。
<span class="highlight-title">複利概念</span>： 直播是「複利」的概念，日復一日的累積很重要。應以「認真工作」的心態去面對，而非「玩遊戲」。</div>
            </div>
        </div>

        <div class="faq-item">
            <button class="faq-question">如何調適負面情緒/低潮/難搞觀眾？</button>
            <div class="faq-answer">
                <div class="answer-inner"><span class="highlight-title">照顧自己</span>： 主播應照顧自己的心情，心情好對方才能感受到。狀態不好時應適度休息，記得公告自己回來的時間。
<span class="highlight-title">情緒宣洩</span>： 適當宣洩情緒是必要的，但發脾氣的限度要「剛剛好」，不要內耗。觀眾可適量分攤妳的情緒。
<span class="highlight-title">面對難搞觀眾</span>： 對情緒性觀眾可採取「正常時正常，發瘋時就懟回去」的方式。他們喜歡丟情緒給主播是為了尋求依靠與被注意，不是針對妳。</div>
            </div>
        </div>

        <h2 class="category-title">3. 界線設定與私下互動管理</h2>

        <div class="faq-item">
            <button class="faq-question">如何處理觀眾要求加Line/私下見面/情勒？</button>
            <div class="faq-answer">
                <div class="answer-inner"><span class="highlight-title">Line/見面</span>： 採取「太極拳」婉拒，例如表示最快回應在浪上。Line 是私人的，建議創 Line 社群讓大家加入，告知在社群內比較不會漏訊息，讓對方放心。
<span class="highlight-title">界線原則</span>： 妳的個人感受最重要。只要讓妳感到不舒服，丟再多禮物都不必理會。如決定見面，不要把後面的時間空著，預留可以終止的理由，讓自己可以掌握行程。
<span class="highlight-title">主播義務</span>： 主播下播後沒有義務跟私訊聊天。應公告可以回私訊的時間，避免被私訊綁架。
                    
                    <div class="media-container">
                        <p><strong>【互動界線參考圖】</strong></p>
                        <img src="https://via.placeholder.com/600x200?text=Boundary+Settings+Example" alt="界線範例">
                    </div>
                </div>
            </div>
        </div>

        <div class="faq-item">
            <button class="faq-question">私訊的時機與策略？</button>
            <div class="faq-answer">
                <div class="answer-inner"><span class="highlight-title">私訊標準</span>： 有丟禮物就可以私訊，不用管金額。私訊是「放線」的一種，目的是讓主播記住觀眾，讓下次有話題可聊，不用很認真聊到底。
<span class="highlight-title">應對白嫖私訊</span>： 不用太擔心「白嫖」。在能力範圍、心裡舒服的範圍私下互動，對業績是有幫助的。</div>
            </div>
        </div>

        <h2 class="category-title">4. 活動參與與群組經營</h2>

        <div class="faq-item">
            <button class="faq-question">如何爭取活動支持/應對情勒？</button>
            <div class="faq-answer">
                <div class="answer-inner"><span class="highlight-title">目標設定</span>： 禮物目標不要設定太難，應設定如「-10個本日目標」等簡單、讓人覺得好去幫妳達成的目標。
<span class="highlight-title">開口策略</span>： 「開口就有機會」。可從公演開始循序漸進，用暗示的方式說「我覺得我活動現在有機會，不知道可不可以拿？我想要拿拿看」來要求支持，心態放在「賭一個機會」。
<span class="highlight-title">情勒應對</span>： 觀眾拿「其他主播找他打活動」來情勒時，可視為觀眾在丟球，這時一定要主動去問。</div>
            </div>
        </div>

        <div class="faq-item">
            <button class="faq-question">公演效益如何？</button>
            <div class="faq-answer">
                <div class="answer-inner"><span class="highlight-title">核心建議</span>： 鼓勵多報名公演。公演的曝光與觸及會比平常開播多 1-2 倍。且公演禮物可計算到活動榜單，可以「以公演的名義來守這個活動」。</div>
            </div>
        </div>

        <div class="faq-item">
            <button class="faq-question">粉絲群組如何經營？</button>
            <div class="faq-answer">
                <div class="answer-inner"><span class="highlight-title">平台選擇</span>： Line 群組一定要設「社群」，方便管理。可視觀眾組成考慮開設微信群組。
<span class="highlight-title">核心經營</span>： 主播必須主動「創造/輸出價值」，群組才會動起來。最好的方式是讓觀眾之間成為朋友，但這中間，一定要有妳的參與。
<span class="highlight-title">成員管理</span>： 建議設定門檻，定期整理成員，將「活躍度較低」的成員淘汰。找到適合的管理員協助，但由主播自己發佈想法。
<span class="highlight-title">續費機制</span>： 不建議中途加入「續費」機制，會破壞觀眾信任。若要設定，應一開始就說好。</div>
            </div>
        </div>

    </div>
</div>

<script>
    // 摺疊控制
    const acc = document.getElementsByClassName("faq-question");
    for (let i = 0; i < acc.length; i++) {
        acc[i].addEventListener("click", function() {
            this.classList.toggle("active");
            const panel = this.nextElementSibling;
            if (panel.style.maxHeight) {
                panel.style.maxHeight = null;
            } else {
                panel.style.maxHeight = panel.scrollHeight + "px";
            }
        });
    }

    // 搜尋功能
    function filterFAQ() {
        const input = document.getElementById('searchInput').value.toLowerCase();
        const items = document.getElementsByClassName('faq-item');
        for (let item of items) {
            const text = item.innerText.toLowerCase();
            item.style.display = text.includes(input) ? "" : "none";
        }
    }
</script>
<div id="entrance-gate" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: white; z-index: 9999; display: flex; flex-direction: column; justify-content: center; align-items: center; font-family: sans-serif;">
    <h2 style="color: #5d34af;">浪LIVE直播學院 - 登入</h2>
    <p>請輸入您的浪ID：</p>
    <input type="text" id="user-id-input" style="padding: 10px; border: 2px solid #f3357b; border-radius: 8px; outline: none;">
    <button onclick="checkAccess()" style="margin-top: 15px; padding: 10px 20px; background: #f3357b; color: white; border: none; border-radius: 8px; cursor: pointer;">進入網頁</button>
    <p id="error-msg" style="color: red; display: none; margin-top: 10px;">ID 錯誤，請聯繫管理員。</p>
</div>

<script>
// 設定登出時間：15 分鐘 (15 * 60 * 1000 毫秒)
const TIMEOUT_MS = 15 * 60 * 1000;

// 1. 登入驗證函數
async function checkAccess() {
    const userInput = document.getElementById('user-id-input').value.trim().toLowerCase();
    const errorMsg = document.getElementById('error-msg');
    const gate = document.getElementById('entrance-gate');
    const loginBtn = document.querySelector('#entrance-gate button');

    if (!userInput) return;

    const sheetUrl = "https://docs.google.com/spreadsheets/d/e/2PACX-1vSna5sPtfm_TSZ694NSiWzd09aNnAHz0KdZVJF5PMrC9uPN_twOuS9ITGvhurosNwhaL0_iDRlrji8t/pub?gid=769889894&single=true&output=csv";

    try {
        loginBtn.innerText = "驗證中...";
        const response = await fetch(sheetUrl);
        const csvText = await response.text();
        const rows = csvText.split(/\r?\n/).map(row => row.split(','));

        const isAuthorized = rows.some(columns => {
            const emailInSheet = columns[1]?.trim().toLowerCase();
            const idInSheet = columns[2]?.trim().toLowerCase();
            return userInput === emailInSheet || userInput === idInSheet;
        });

        if (isAuthorized) {
            // 關鍵：記錄登入狀態與「目前時間」
            const now = Date.now();
            sessionStorage.setItem('isAuthorized', 'true');
            sessionStorage.setItem('loginTimestamp', now.toString());

            gate.style.display = 'none';
        } else {
            errorMsg.style.display = 'block';
            loginBtn.innerText = "進入網頁";
        }
    } catch (error) {
        console.error("驗證失敗:", error);
        loginBtn.innerText = "進入網頁";
    }
}

// 2. 登出函數
function logout() {
    sessionStorage.removeItem('isAuthorized');
    sessionStorage.removeItem('loginTimestamp');
    // 重新整理網頁，這會讓守門員重新出現
    window.location.reload();
}

// 3. 核心監控邏輯：檢查 Session 是否過期
function checkSessionStatus() {
    const isAuthorized = sessionStorage.getItem('isAuthorized');
    const loginTimestamp = sessionStorage.getItem('loginTimestamp');
    const gate = document.getElementById('entrance-gate');

    if (isAuthorized === 'true' && loginTimestamp) {
        const now = Date.now();
        const startTime = parseInt(loginTimestamp);

        // 如果現在時間 - 登入時間 > 15分鐘
        if (now - startTime > TIMEOUT_MS) {
            console.log("Session 已過期，自動登出");
            logout();
        } else {
            // 還在 15 分鐘內，維持進入狀態
            gate.style.display = 'none';
            
            // 可選：設定一個倒數計時器，時間到自動踢出去
            const remainingTime = TIMEOUT_MS - (now - startTime);
            setTimeout(logout, remainingTime);
        }
    } else {
        // 沒有登入狀態，顯示守門員
        gate.style.display = 'flex';
    }
}

// 網頁載入、按到上一頁、重新整理都會執行這裡
window.onload = checkSessionStatus;
</script>
</body>
    
</html>
